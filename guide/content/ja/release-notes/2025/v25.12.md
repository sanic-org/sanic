---
title: バージョン 25.12 (LTS)
---

# バージョン 25.12 (LTS)

.. TOC::

## はじめに

バージョン 25.12 は **長期サポート(LTS)** のバージョン 25 [リリースサイクル](../../organization/policies.md#release-schedule) のリリースです。 LTSリリースとして、セキュリティアップデートと長期間の重大なバグ修正を受け取ります。 何か問題が発生した場合は、 [GitHub](https://github.com/sanic-org/sanic/issues/new/choose) に関する懸念を提起してください。

## 知っておくべきこと

[Changelog](../changelog.html) で詳細を確認できます。 注目すべき新機能や破損した機能、アップグレードする機能:

### Python 3.9 が削除され、Python 3.14 が追加されました

Sanic は **Python 3.10 以降** が必要になりました。 Python 3.9 が削除され、Python 3.14 のサポートが追加されました。

### デーモンモード

CLI から直接バックグラウンドデーモンプロセスとして Sanic を実行できるようになりました。

```sh
sanic path.to.app -D
sanic path.to.app --daemon
```

これにはデーモンプロセスを管理するための便利なコマンドも導入されます。

```sh
sanic path.to.app status    # Check if running
sanic path.to.app stop      # Stop the daemon
```

その他のオプションが利用可能です:

```sh
--pidfile PATH    # Custom PID file location
--logfile PATH    # Log output to file
--user USER       # Run as specified user
--group GROUP     # Run as specified group
```

下位レベルのコマンドも使用できます。

```sh
sanic kill --pid=<PID>
sanic kill --pidfile=<PATH>
sanic status --pid=<PID>
sanic status --pidfile=<PATH>
```

### 静的ファイルのSymlink control

Sanicは静的ファイル内のシンボリックリンクに対する細かい制御を2つの新しいパラメータで提供するようになりました。

| パラメータ                           | デフォルト   | 説明                                           |
| ------------------------------- | ------- | -------------------------------------------- |
| `follow_external_symlink_files` | `False` | 静的ルート外を指すファイルシンボリックリンクの提供を許可する               |
| `follow_external_symlink_dirs`  | `False` | 静的ルートの外側を指すディレクトリシンボリックリンクからファイルを提供することを許可する |

**例**

安全なデフォルト (外部シンボルリンクをブロック):

```python
# Symlinks pointing outside /var/www/static will return 404
app.static("/static", "/var/www/static")
```

ファイルシンボリックリンクのみを許可:

```python
# Serves /var/www/static/config.json -> /etc/app/config.json
app.static("/static", "/var/www/static", follow_external_symlink_files=True)
```

ディレクトリシンボリックリンクのみを許可:

```python
# Serves files from /var/www/static/images/ -> /shared/images/
app.static("/static", "/var/www/static", follow_external_symlink_dirs=True)
```

### カスタム構成コンバータ

Sanicが環境変数をどのように解析して設定値に拡張できるようになりました。 デフォルトでは、Sanicは`str`、`str_to_bool`、`float`、および`int`コンバータ(逆順)を使用して環境変数を変換します。 独自のコンバータを追加して、カスタムタイプを処理できます。

**Simple converter** - callable that take a string and returns a convert value:

```python
class UltimateAnswer:
    def __init__(self, answer):
        self.answer = int(answer)

config = Config(converters=[UltimateAnswer])
app = Sanic("MyApp", config=config)

# Or register after creation
app.config.register_type(UltimateAnswer)
```

**DetailedConverter** - コンテキストが必要なコンバーター（キー名、設定キー、値、デフォルト値）：

```python
from sanic.config import Config, DetailedConverter

class TypeAwareConverter(DetailedConverter):
    def __call__(self, full_key: str, config_key: str, value: str, defaults: dict):
        if config_key in defaults:
            # Cast to the same type as the default value
            return type(defaults[config_key])(value)
        raise ValueError  # Fall through to next converter

config = Config(
    defaults={"PORT": 8000, "DEBUG": False},
    converters=[TypeAwareConverter()]
)
```

### テキストコンテンツタイプの自動文字セット

テキストコンテンツタイプ(`text/*`)には、静的なファイルとファイル応答を提供するときに自動的に`charset=UTF-8`が含まれるようになりました。

### タスクの作成はタスクを返します

`app.add_task()`を介してタスクを作成する場合、asyncioの`Task`オブジェクトが返されるようになり、待ち時間や結果を確認することができます。

```python
task = app.add_task(some_coroutine())
# Later...
result = await task
```

### CLIエラーメッセージの改善

Tracerite は v2.2.0 にアップグレードされ、よりフォーマットされた例外トレースバックを CLI で改善しました。

## ありがとうございます

このリリースに参加いただき、ありがとうございます： :clap:

[@ahopkins](https://github.com/ahopkins)
[@amarquard089](https://github.com/amarquard089)
[@ChihweiLHBird](https://github.com/ChihweiLHBird)
[@dhensen](https://github.com/dhensen)
[@dungarpan](https://github.com/dungarpan)
[@gazpachoking](https://github.com/gazpachoking)
[@helioascorreia](https://github.com/helioascorreia)
[@jameslovespancakes](https://github.com/jameslovespancakes)
[@Peopl3s](https://github.com/Peopl3s)
[@tdaron](https://github.com/tdaron)
[@tiejunhu](https://github.com/tiejunhu)
[@tkosman](https://github.com/tkosman)
[@Tronic](https://github.com/Tronic)
[@wojonet](https://github.com/wojonet)

---

あなたがプロジェクトを楽しんでいるなら、貢献を検討してください。 もちろん私たちはコード貢献は大好きですが、どんな形でも貢献できます。 Consider writing some documentation, showing off use cases, joining conversations and making your voice known, and if you are able: [financial contributions](https://opencollective.com/sanic-org/).
